# DFS, BFS 유형별 팁

탐색트리 수정된 것으로 그릴 것

1. 가지 옆이 아닌 끝에다가 L 붙이기
2. BFS의 경우 q.popleft() 검사, loop조건 통과 까지 추가해서 그릴것

## 1. DFS

            |
            |        -> 전처리, L체크
            /\
           /  \       -> loop 검사
          |   |
          |   |      -> 전처리, L체크
          /\
         /  \         -> loop 검사....

```py
def dfs(L,x,y):

  // 전처리, L 체크
  if (조건) : return
  if L == 1: return

  // loop 검사
  else:
    for s in range(4):
      nx = x+dx[s]
      ny = y+dy[s]
      if 0<=nx<=n-1 and 0<=ny<=n-1:
        if check[nx][ny] == 1:
          continue
        dfs(L+1,nx,ny)


```

### 조합, 중복조합

-> s,i 활용
-> 조합은 s,i+1
-> 중복조합은 s,i

### 모든 조합

-> 모든 조합의 상위버전
-> nC1+nC2+nC3+.....

### 순열, 중복순열

-> 순열 : check[L] 따윈 없음 무조건 check[i]
-> 중복 순열 : check 필요 x L 종료조건 체크만

### dfs 인자 내부, 외부

-> 내부의 경우 가지마다 모두 다른 값을 가짐 => 백트래킹 자동으로 됨
-> ex) 물통 문제의 경우 dfs(A,B,C) 이렇게 가는데, A,B,C를 백트래킹하지 않아도
-> 모든 재귀 트리에서 새로운 A,B,C를 사용하게 된다.
-> 이때 dfs(A+1,B+1,C) 이런식으로 인자 안에서 값을 변경하는 것이 아니라
-> A = A+1, B = A+B dfs(A,B,C) 하면 안되므로 새로운 변수를 선언하여 A,B,C 담아야한다.

-> 외부 변수의 경우 모든 재귀 트리가 변수를 공유함 => 백트래킹 수동으로 해줘야함

### 백트래킹x, 백트래킹o

-> 백트래킹 하지 않으면 check 배열이 충전되어 나온다, -> 단순 순회용, 마킹용
-> 백트래킹 하면 check 배열이 빈 배열이다. -> 모든 좌표, 노드 각각 한 번씩 dfs 돌릴 때 유리, 모든 경우의 수 구할 때

## 2. BFS

### level을 넣는 경우 넣지 않는 경우.

-> for \_ in range(len(q))가 핵심이다.
-> level 작업을 하든 안하든 넣어도 상관 없는듯함
-> 걍 무조건 넣자

### 큐 원소 자체에 카운팅이나 res 문자열을 넣는 경우

-> 중복 체크나 카운팅에 유용하다.

### 최소값, 최소거리, 최소카운팅 문제면 BFS를 고려해보자

### BFS 체크배열(visited)

-> 격자탐색인 경우 무조건 이차원 배열이고 격자 탐색 아닌 경우
-> set, 1차원, 2차원인 경우가 있을 수 있음
-> set으로 할 경우 in 연산자를 써야해서 속도 매우 느림 따라서 진짜 배열 못쓸 경우 아니면 배열을 쓰자

-> 만약 큐에 (x1,y1,x2,y2) 넣는다 치면 중복방문 체크를 위해 4차원배열을 사용해야한다.

```py
arr = [[[[0 for _ in range(n)] for _ in range(n)] for _ in range(n)] for _ in range(n)]
```

-> 하지만 메모리 초과가 날 경우가 있으므로 주의해서 사용해야함

-> 격자탐색에서 제자리가 가능한 경우는 제자리 중복체크는 제외한다.

### BFS 체크배열2

-> 벽 부수고 이동하기 같은 특수한 경우도 있을 수 있다. 이때는 체크배열을 어떻게 짤건지 생각해야함

### grid를 바꾸는 경우와 바꾸지 않는경우

-> 격자탐색이 아니면 바꾸지 않는듯 함
-> 다시 정리 필요 바꿀때가 좋은 경우, 안바꿀떄가 좋은 경우가 있는 것 같음..

### for s in range(4), for next in target: 등등

-> 이 안에서 조건을 체크하는 것이 좋은듯
